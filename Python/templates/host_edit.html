{% extends "base.html" %}
{% block content %}
  <h4 class="mb-3">Modifier l’équipement</h4>
  <form method="post" class="col-12 col-lg-8">
    <div class="row g-3">
      <div class="col-md-6">
        <label class="form-label">Hostname *</label>
        <input name="hostname" class="form-control" value="{{ host.hostname }}" required />
      </div>
      <div class="col-md-6">
        <label class="form-label">Adresse IP *</label>
        <input name="ip" class="form-control" value="{{ host.ip }}" required />
      </div>
      <div class="col-md-4">
        <label class="form-label">Port</label>
        <input name="port" class="form-control" value="{{ host.port }}" />
      </div>
      <div class="col-md-8">
        <label class="form-label">Description</label>
        <input name="description" class="form-control" value="{{ host.description or '' }}" />
      </div>

      <div class="col-md-6">
        <label class="form-label">Groupe</label>
        <div class="d-flex gap-2">
          <select name="group_id" class="form-select">
            <option value="">— Aucun —</option>
            {% for g in groups %}
              <option value="{{ g.id }}" {% if host.group and g.id == host.group.id %}selected{% endif %}>{{ g.name }}</option>
            {% endfor %}
          </select>
          <a class="btn btn-outline-secondary" href="{{ url_for('group_new') }}">+ Nouveau</a>
        </div>
      </div>

      <div class="col-md-6">
        <label class="form-label">Template</label>
        <div class="d-flex gap-2">
          <select name="template_id" class="form-select">
            <option value="">— Aucun —</option>
            {% for t in templates %}
              <option value="{{ t.id }}" {% if host.template and t.id == host.template.id %}selected{% endif %}>{{ t.name }}</option>
            {% endfor %}
          </select>
          <a class="btn btn-outline-secondary" href="{{ url_for('template_new') }}">+ Nouveau</a>
        </div>
      </div>

      <div class="col-12">
        <label class="form-label">Tags (séparés par des virgules)</label>
        <input name="tags" class="form-control" value="{{ tags_value or '' }}" placeholder="prod, router, snmpv2" />
      </div>
    </div>

    <div class="mt-4 d-flex gap-2">
      <button class="btn btn-primary" type="submit">Enregistrer</button>
      <a class="btn btn-outline-secondary" href="{{ url_for('host_view', host_id=host.id) }}">Annuler</a>
    </div>
  </form>
{% endblock %}
